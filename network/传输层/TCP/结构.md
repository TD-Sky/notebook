## 示意图

```
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Source Port          |       Destination Port        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Sequence Number                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Acknowledgment Number                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Data |       |C|E|U|A|P|R|S|F|                               |
| Offset| Rsrvd |W|C|R|C|S|S|Y|I|            Window             |
|       |       |R|E|G|K|H|T|N|N|                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Checksum            |         Urgent Pointer        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                           [Options]                           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               :
:                             Data                              :
:                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ```

> 结构图来自 [RFC 9293](https://datatracker.ietf.org/doc/html/rfc9293#section-3.1)



## 字段说明

- **Sequence Number** (32位)：**序列号**是报文的首字节在本次连接中的编号。连接会随机生成初始序列号。

- **Acknowledgment Number** (32位)：**确认号** = 接收报文的序列号 + 接收数据的大小(字节)。

- **Window** (16位)：用于**流控制**，指示接收方希望接收的字节数。

- **Data Offset** (4位)：表示头包含的**32位**字个数。因为可以通过**Options**字段扩展TCP，所以**头**是变长的。一般**Options**字段为空，TCP的长度就为**20字节**，即该字段的值为 5。

- **标志字段** (6位，以下子字段各占1位)
  - **ACK**：接收端发送确认报文时标记此位。
  - **RST**：TODO 连接建立与断开
  - **SYN**：TODO 连接建立与断开
  - **FIN**：TODO 连接建立与断开
  - **CWR**：TODO 拥塞控制
  - **ECE**：TODO 拥塞控制
